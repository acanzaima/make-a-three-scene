!function(){function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}System.register(["./three.module-legacy.67a5e23a.js","./resource-tracker-legacy.89981e46.js","./SceneView-legacy.f2860873.js","./index-legacy.d382b655.js"],(function(t,i){"use strict";var s,n,r,o,a,h,c,l,d,u,m,p,v,w,f,g,y,S,C,b,x,k,D,E,M,j,T,O,P,A,N,z,I,L,R,H,V,W=document.createElement("style");return W.textContent=".oribit-wrapper[data-v-d132a0da]{width:100%;height:100%}.oribit-wrapper.light[data-v-d132a0da]{background:radial-gradient(circle,#729ecc 0%,#00456b 60%)}\n",document.head.appendChild(W),{setters:[e=>{s=e.R,n=e.V,r=e.P,o=e.W,a=e.s,h=e.S,c=e.D,l=e.l,d=e.H,u=e.A,m=e.T,p=e.M,v=e.a,w=e.b,f=e.c,g=e.d,y=e.m,S=e.n,C=e.o,b=e.C,x=e.O,k=e.p,D=e.G,E=e.e},e=>{M=e.R,j=e.O},e=>{T=e.a},e=>{O=e.d,P=e.B,A=e.C,N=e.w,z=e.o,I=e.k,L=e.l,R=e.e,H=e.n,V=e.p}],execute:function(){class i extends p{constructor(...t){super(...t),e(this,"selfSpeed",void 0)}}class W extends D{}const _=class{constructor(t,i){e(this,"sceneDom",void 0),e(this,"intersects",void 0),e(this,"raycaster",void 0),e(this,"pointer",void 0),e(this,"hoverSprite",void 0),e(this,"hoverColor",void 0),e(this,"hoverName",void 0),e(this,"clickSprite",void 0),e(this,"textData",void 0),e(this,"textCount",void 0),e(this,"colors",void 0),e(this,"speed",void 0),e(this,"radius",void 0),e(this,"animationId",void 0),e(this,"camera",void 0),e(this,"renderer",void 0),e(this,"scene",void 0),e(this,"controls",void 0),e(this,"Earth",void 0),e(this,"EarthOut",void 0),e(this,"EarthAureole",void 0),e(this,"group",void 0),e(this,"satelliteTrack",void 0),e(this,"pointerMoveCopy",void 0),e(this,"meshOnclickCopy",void 0),this.sceneDom="string"==typeof t?document.querySelector(t)||document.createElement("div"):t;const r={textData:new Array(100).fill("默认文字"),colors:[],speed:.001,radius:"width",scaleNum:1};i&&Object.keys(i).forEach((e=>{e in r&&(r[e]=i[e])})),this.intersects=[],this.raycaster=new s,this.pointer=new n,this.hoverSprite=null,this.hoverName=null,this.clickSprite=null,this.textData=r.textData,this.textCount=r.textData.length,this.colors=r.colors,this.speed=r.speed,"width"===r.radius?this.radius=this.sceneDom.clientWidth*r.scaleNum/2:"height"===r.radius?this.radius=this.sceneDom.clientHeight*r.scaleNum/2:"number"==typeof r.radius?this.radius=r.radius:this.radius=this.sceneDom.clientHeight*r.scaleNum/2,this.pointerMoveCopy=this.pointerMove.bind(this),this.meshOnclickCopy=this.meshOnclick.bind(this),this.animationId=null,this.satelliteTrack=new M}init(){const e=this.sceneDom.clientWidth,t=this.sceneDom.clientHeight;this.camera=new r(60,e/t,1,2e3),this.camera.position.z=1.3*this.radius,this.renderer=new o({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.renderer.outputEncoding=a,this.sceneDom.appendChild(this.renderer.domElement),this.scene=new h;const i=new c(15794175,1);i.position.set(-250,250,100),this.scene.add(i);const s=new l(15794175,1);s.position.set(-250,250,100),this.scene.add(s);const n=new d(17771,15794175,1);n.position.set(-250,250,100),this.scene.add(n);const m=new u(15794175,.8);this.scene.add(m),this.controls=new j(this.camera,this.renderer.domElement),this.controls.autoRotate=!0}initEarth(){const e=(new m).load("/make-a-three-scene/assets/earth.8dffbf68.jpg"),t=new p(new v(this.radius/2,100,100),new w({map:e}));t.name="地球",this.Earth=t,this.scene.add(t);const i=(new m).load("/make-a-three-scene/assets/earth_outline.477e4b93.png"),s=new f(new g({map:i}));s.scale.x=s.scale.y=s.scale.z=1.2*this.radius,s.name="地球外圈",s.position.set(0,0,0),this.EarthOut=s,this.scene.add(s);const n=(new m).load(T),r=new f(new g({map:n}));r.scale.x=r.scale.y=r.scale.z=1.3*this.radius,r.name="地球光晕",this.EarthAureole=r,this.scene.add(r)}initSatellites(){this.group=new W,this.group.name="文字实体";for(let e=0;e<this.textCount;e++){const t=this.initSatellite(this.radius/1.6,{x:-Math.PI*Math.random()*2,y:Math.PI*Math.random()*2,z:0},.005*Math.random()+this.speed,this.textData[e]);this.group.add(t)}this.scene.add(this.group)}initSatellite(e,t,s,n){const r=new p(new y(e,e+.1,100,1),new S({color:"#51d9ff",transparent:!0,opacity:.3})),o=new i(new v(1,1,1),new w({transparent:!0,opacity:0})),a=this.initTextCanvas(n);let h;const c=this.colors.length;h=c>0?this.colors[C.randInt(0,c-1)]:"rgb("+[Math.round(200*Math.random()+55),Math.round(200*Math.random()+55),Math.round(200*Math.random()+55)].join(",")+")";const l=new g({map:new b(a),color:h}),d=new f(l);d.scale.x=90,d.scale.y=20,d.scale.z=20,d.position.set(e,0,0),d.name=n;const u=new x;return u.add(d),u.add(r),o.add(u),o.rotation.set((null==t?void 0:t.x)||0,(null==t?void 0:t.y)||0,(null==t?void 0:t.z)||0),o.name=n,o.selfSpeed=s,o}initTextCanvas(e){const t=document.createElement("canvas");t.width=450,t.height=100;const i=t.getContext("2d");i.fillStyle="#fff";const s=e,n=s.length>13?s.slice(0,13)+"...":s,r=Math.floor(20*Math.random())+30;return i.font=`700 ${r}px sans-serif`,i.fillText(n,10,50),t}pointerMove(e){const t=this.sceneDom.getBoundingClientRect();if(this.pointer.x=(e.clientX-t.left)/this.sceneDom.offsetWidth*2-1,this.pointer.y=-(e.clientY-t.top)/this.sceneDom.offsetHeight*2+1,this.raycaster.setFromCamera(this.pointer,this.camera),this.scene.children&&Array.isArray(this.scene.children)){const e=this.scene.children.find((e=>"文字实体"===e.name));this.intersects=this.raycaster.intersectObjects(e?null==e?void 0:e.children:[])}}meshOnclick(){this.intersects[0]&&(this.clickSprite=this.intersects[0].object.name,this.sceneDom.dispatchEvent(new CustomEvent("satellite",{detail:{spriteName:this.clickSprite}})))}resize(){this.camera.aspect=this.sceneDom.clientWidth/this.sceneDom.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.sceneDom.clientWidth,this.sceneDom.clientHeight),this.render()}addListeners(){this.sceneDom.addEventListener("pointermove",this.pointerMoveCopy),this.sceneDom.addEventListener("click",this.meshOnclickCopy)}removeListeners(){this.sceneDom.addEventListener("pointermove",this.pointerMoveCopy),this.sceneDom.removeEventListener("click",this.meshOnclickCopy)}animate(){this.animationId=requestAnimationFrame(this.animate.bind(this)),this.render()}render(){if(this.renderer.clear(),this.renderer.render(this.scene,this.camera),this.EarthOut.material.rotation+=.01,this.intersects.length>0){var e,t,i;if(this.hoverSprite)this.hoverSprite.material.color=new k((null===(e=this.hoverColor)||void 0===e?void 0:e.r)||0,(null===(t=this.hoverColor)||void 0===t?void 0:t.g)||0,(null===(i=this.hoverColor)||void 0===i?void 0:i.b)||0);this.hoverSprite=this.intersects[0].object;const s=this.intersects[0].object.material.color;this.hoverColor={r:s.r,g:s.g,b:s.b}}else{var s,n,r;if(this.hoverSprite)this.hoverSprite.material.color=new k((null===(s=this.hoverColor)||void 0===s?void 0:s.r)||0,(null===(n=this.hoverColor)||void 0===n?void 0:n.g)||0,(null===(r=this.hoverColor)||void 0===r?void 0:r.b)||0);this.hoverSprite=null,this.hoverColor=null,this.controls.update()}this.group.children.forEach((e=>{this.hoverSprite&&this.hoverSprite.uuid===e.children[0].children[0].uuid?e.children[0].children[0].material.color=new k(1,1,1):e.rotation.z-=e.selfSpeed||.01}))}run(){this.init(),this.initEarth(),this.initSatellites(),this.satelliteTrack.track(this.camera),this.satelliteTrack.track(this.renderer),this.satelliteTrack.track(this.scene),this.satelliteTrack.track(this.controls),this.addListeners(),this.animate()}stop(){this.removeListeners(),this.satelliteTrack.dispose(),this.animationId&&cancelAnimationFrame(this.animationId)}},J=O({__name:"ScenePage",props:{foldChange:{type:Boolean}},setup(e){const t=e,i=["HTML5","CSS3","Less","Sass","JavaScript","TypeScript","Node.js","npm","yarn","Nuxt.js","next.js","Express","Lodash","Vue 3","Vue 2","React","Angular","Svelte","Threejs","ECharts","AntV","Element Plus","Ant Design","Vant","ESlint","VSCode","webpack","Babel","Vite","Rollup","Python","Taichi","PyCharm","Java","IntelliJ IDEA","Web 3D","qiankun","WuJie","微前端","大前端","小程序","现代 JavaScript 教程","CSS SECRETS"];let s;function n(e){console.log(e.detail.spriteName)}return P((()=>{s=new _(".oribit-wrapper",{textData:i,radius:"height",scaleNum:.5}),s.run()})),A((()=>{s.stop()})),N((()=>t.foldChange),(()=>{setTimeout((()=>{s.resize()}),350)})),(e,t)=>(z(),I(E,null,{default:L((({theme:e})=>[R("div",{class:H(["oribit-wrapper",e]),onSatellite:n},null,34)])),_:1}))}});t("default",V(J,[["__scopeId","data-v-d132a0da"]]))}}}))}();
